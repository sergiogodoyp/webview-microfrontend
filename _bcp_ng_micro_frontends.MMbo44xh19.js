var fe=Object.defineProperty,pe=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var k=(o,t,e)=>t in o?fe(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||={})me.call(t,e)&&k(o,e,t[e]);if(x)for(var e of x(t))ge.call(t,e)&&k(o,e,t[e]);return o},p=(o,t)=>pe(o,de(t));var f=(o,t,e)=>new Promise((n,s)=>{var r=c=>{try{a(e.next(c))}catch(g){s(g)}},i=c=>{try{a(e.throw(c))}catch(g){s(g)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(r,i);a((e=e.apply(o,t)).next())});import*as l from"@angular/core";import{InjectionToken as O,NgZone as _,inject as u,ElementRef as ee,makeEnvironmentProviders as te,APP_INITIALIZER as q,Injector as De}from"@angular/core";import{createCustomElement as Le}from"@angular/elements";import{createApplication as $e}from"@angular/platform-browser";import*as A from"@angular/common";import{LocationStrategy as D,HashLocationStrategy as L,PathLocationStrategy as ne,PlatformLocation as Be,DOCUMENT as xe,CommonModule as ke}from"@angular/common";import{Router as $,provideRouter as oe,withComponentInputBinding as se}from"@angular/router";var U="__NATIVE_FEDERATION__",K=globalThis;K[U]??={externals:new Map,remoteNamesToRemote:new Map,baseUrlToRemoteNames:new Map};var S=K[U],j=S.externals;function V(o){return`${o.packageName}@${o.version}`}function Ee(o){let t=V(o);return j.get(t)}function ye(o,t){let e=V(o);j.set(e,t)}function w(o){let t=o.split("/");return t.pop(),t.join("/")}function M(o,t){for(;o.endsWith("/");)o=o.substring(0,o.length-1);return t.startsWith("./")&&(t=t.substring(2,t.length)),`${o}/${t}`}var W=S.remoteNamesToRemote,I=S.baseUrlToRemoteNames;function ve(o,t){W.set(o,t),I.set(t.baseUrl,o)}function Me(o){return I.get(o)}function Te(o){return I.has(o)}function Se(o){return W.get(o)}function we(o){document.head.appendChild(Object.assign(document.createElement("script"),{type:"importmap-shim",innerHTML:JSON.stringify(o)}))}function Ie(o,t){return f(this,null,function*(){let e=w(o),n=yield be(o);t||(t=n.name);let s=Re(n,t,e);return ve(t,p(h({},n),{baseUrl:e})),s})}function Re(o,t,e){let n=Fe(o,t,e),s=Ce(o,e);return{imports:n,scopes:s}}function be(o){return f(this,null,function*(){return yield fetch(o).then(e=>e.json())})}function Ce(o,t){let e={},n={};for(let s of o.shared){let r=Ee(s)??M(t,s.outFileName);ye(s,r),n[s.packageName]=r}return e[t+"/"]=n,e}function Fe(o,t,e){let n={};for(let s of o.exposes){let r=M(t,s.key),i=M(e,s.outFileName);n[r]=i}return n}function G(o,t){return f(this,null,function*(){let e=Ae(o,t);yield _e(e);let n=Oe(e),s=Se(n),r=e.fallback,i=s?"":"unknown remote "+n;if(!s&&!r)throw new Error(i);if(!s)return P(i),Promise.resolve(r);let a=s.exposes.find(E=>E.key===e.exposedModule),c=a?"":`Unknown exposed module ${e.exposedModule} in remote ${n}`;if(!a&&!r)throw new Error(c);if(!a)return P(c),Promise.resolve(r);let g=M(s.baseUrl,a.outFileName);try{return Ne(g)}catch(E){if(r)return console.error("error loading remote module",E),r;throw E}})}function Ne(o){return typeof importShim<"u"?importShim(o):import(o)}function Oe(o){let t;if(o.remoteName)t=o.remoteName;else if(o.remoteEntry){let e=w(o.remoteEntry);t=Me(e)}else throw new Error("unexpcted arguments: Please pass remoteName or remoteEntry");if(!t)throw new Error("unknown remoteName "+t);return t}function _e(o){return f(this,null,function*(){if(o.remoteEntry&&!Te(w(o.remoteEntry))){let t=yield Ie(o.remoteEntry);we(t)}})}function Ae(o,t){let e;if(typeof o=="string"&&t)e={remoteName:o,exposedModule:t};else if(typeof o=="object"&&!t)e=o;else throw new Error("unexpected arguments: please pass options or a remoteName/exposedModule-pair");return e}function P(o){typeof window<"u"&&console.error(o)}var Y="__NATIVE_FEDERATION__",J=globalThis;J[Y]??={externals:new Map,remoteNamesToRemote:new Map,baseUrlToRemoteNames:new Map};var C=J[Y],et=C.externals;var tt=C.remoteNamesToRemote,nt=C.baseUrlToRemoteNames;var H=(()=>{class o{MICRO_FRONTENDS_MANIFEST_IDENTIFIER="femMicroFrontendsManifest";static STORE_INSTANCE_IDENTIFIER="femMicroFrontendsManifestStore";constructor(){}static getInstance(){let e=globalThis,n=this.STORE_INSTANCE_IDENTIFIER;return e[n]||(e[n]=new o),e[n]}save(e){globalThis[this.MICRO_FRONTENDS_MANIFEST_IDENTIFIER]=e}getValue(){let e=globalThis[this.MICRO_FRONTENDS_MANIFEST_IDENTIFIER];if(!e)throw new Error("[FEM]: El micro-frontends manifest no fue encontrado.");return e}getMicroFrontendElementNameByPath(e){let{microFrontendsManifest:n}=this.getValue(),s=n.find(r=>r.path===e);if(!s||!s.elementName)throw new Error(`[FEM]: El elementName para la ruta "${e}" no fue encontrado en el micro-frontends manifest.`);return s.elementName}}return o})();var R=class{port;listen(t){globalThis.addEventListener("message",e=>{this.port=e.ports[0],this.port.onmessage=({data:n})=>{t(n)}})}send(t){this.port.postMessage(t)}},b=class{listen(t){window.receiveMessageFromiOS=e=>{t(e)}}send(t){window.webkit.messageHandlers.iosMessageHandler.postMessage(t)}},ot={android:new R,ios:new b};var d=class{static getValue(){return H.getInstance().getValue()}static getMicroFrontendElementNameByPath(t){return H.getInstance().getMicroFrontendElementNameByPath(t)}};import{BehaviorSubject as Pe}from"rxjs";var B=(()=>{class o{globalThisRef=globalThis;save({ngZone:e,useHash:n}){this.globalThisRef.ngZone=e,this.globalThisRef.useHash=n}getConfig(){let{ngZone:e,useHash:n}=this.globalThisRef;return{ngZone:e,useHash:n??!0}}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),y="FEM_MICRO_FRONTEND_URL_EVENT",re="layout",m=class o{listeners=new Map;lastEmitted=new Map;webViewListeners=[];internalTopicKey="__internal_response__";constructor(){}static getInstance(){return globalThis.femEventBusCore||(globalThis.femEventBusCore=new o),globalThis.femEventBusCore}getKey(t){return`${t.channel}::${t.topic}::${t.version}`}parseKey(t){let[e,n,s]=t.split("::");return{channel:e,topic:n,version:s}}isInternalEvent({topic:t}){return t.includes(this.internalTopicKey)}generateUUID(){let t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e=Array.from(t).map(n=>n.toString(16).padStart(2,"0"));return`${e[0]}${e[1]}${e[2]}${e[3]}-${e[4]}${e[5]}-${e[6]}${e[7]}-${e[8]}${e[9]}-${e[10]}${e[11]}${e[12]}${e[13]}${e[14]}${e[15]}`}publish(t,e,n=!1){let s=this.getKey(t);this.lastEmitted.set(s,e),this.listeners.get(s)?.forEach(r=>r(e)),!this.isInternalEvent(t)&&!n&&this.webViewListeners.forEach(r=>r(t,e))}publishAndWait(t,e){return new Promise(n=>{let s=this.generateUUID(),r=`${t.topic}${this.internalTopicKey}${s}`,i=p(h({},t),{topic:r}),a=c=>{n(c),this.off(i,a)};this.on(i,a),this.publish(t,{request:e,temporaryTopic:r,respond:c=>{this.publish(i,c)}})})}off(t,e){let n=this.getKey(t),s=this.listeners.get(n);s&&this.listeners.set(n,s.filter(r=>r!==e))}on(t,e){let n=this.getKey(t);this.lastEmitted.has(n)&&e(this.lastEmitted.get(n)),this.listeners.has(n)||this.listeners.set(n,[]),this.listeners.get(n).push(e)}onAndReply(t,e){this.on(t,e)}onWebViewListeners(t){this.webViewListeners.push(t);for(let[e,n]of this.lastEmitted.entries()){let s=this.parseKey(e);this.isInternalEvent(s)||t(s,n)}}},ie={channel:"femAuth",topic:"token",version:"1"},ae={channel:"femAuth",topic:"refreshToken",version:"1"},ce=new O("ELEMENT_NAME"),Ue=o=>{let{ngZone:t}=o.getConfig();return t||new _({enableLongStackTrace:!1})};function Et(n){return f(this,arguments,function*({appConfig:o,bootstrapComponent:t,elementName:e}){let s=yield $e({providers:[...o.providers,{provide:ce,useValue:e},{provide:_,useFactory:Ue,deps:[B]}]}),r=Le(t,{injector:s.injector});customElements.define(e,r)})}var Ke=(()=>{class o{router=u($);locationStrategy=u(D);elementName=u(ce);connect(e){let n=`${y}_${this.elementName.toUpperCase()}`,s=this.router.config,r=()=>{this.router.navigateByUrl(this.getCurrentPath())};return this.addLayoutPath(e),this.router.initialNavigation(),this.router.navigateByUrl(this.getCurrentPath()),globalThis.addEventListener(n,r),{close:()=>{globalThis.removeEventListener(n,r),this.router.resetConfig(s)}}}getCurrentPath(){return this.locationStrategy instanceof L?`${location.hash.substring(1)}${location.search}`:`${location.pathname}${location.search}`}addLayoutPath(e){if(e&&e!=""){let s=this.getBasePath(),r=`${e}/${s}`,i=this.updateRouterConfig(s,r);this.router.resetConfig(i)}}getBasePath(){return this.router.config.find(e=>e.path==="")?.redirectTo}updateRouterConfig(e,n){return this.router.config.map(s=>s.path===""?p(h({},s),{redirectTo:n}):s.path===e?p(h({},s),{path:n}):s)}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),le=(()=>{class o{layout="";save(e){this.layout=e}get(){return this.layout}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),yt=(()=>{class o{routerConnector=u(Ke);elementRef=u(ee);layoutStore=u(le);connectRouterRef;constructor(){let e=this.getLayout();this.layoutStore.save(e),this.connectRouterRef=this.routerConnector.connect(e)}ngOnDestroy(){this.connectRouterRef.close()}getLayout(){return this.elementRef.nativeElement.getAttribute(re)}static ɵfac=function(n){return new(n||o)};static ɵcmp=l.ɵɵdefineComponent({type:o,selectors:[["base-micro-frontend"]],decls:0,vars:0,template:function(n,s){},encapsulation:2})}return o})(),F=class{validateWildcardEmptyComponent(t){let e=t.find(n=>n.path==="**");if(!e||!e.component)throw new Error("[FEM]: Debes definir una ruta con path: '**' y un EmptyComponent.")}validateDefaultPathRoute(t){let e=t.find(n=>n.path==="");if(!e)throw new Error("[FEM]: Debes definir una ruta por defecto (path: '').");if(!e.redirectTo)throw new Error("[FEM]: El path por defecto debe redirigir hacia la ruta base.");if(e.pathMatch!=="full")throw new Error("[FEM]: La ruta por defecto debe tener pathMatch: 'full'.")}validateSingleRootRoute(t){let e=t.filter(s=>s.path!==""&&s.path!=="**");if(e.length===0)throw new Error("[FEM]: Debe existir una ruta base.");if(e.length>1)throw new Error("[FEM]: Debe existir solo una ruta base.");let n=t.find(s=>s.path==="");if(n&&n.redirectTo&&e[0].path!==n.redirectTo)throw new Error("[FEM]: El path de la ruta base debe coincidir con el redirectTo de la ruta por defecto.")}validate(t){this.validateDefaultPathRoute(t),this.validateSingleRootRoute(t),this.validateWildcardEmptyComponent(t)}};function je(o,t){let{useHash:e}=o.getConfig();return e?new L(t):new ne(t)}function vt(o,...t){return new F().validate(o),te([oe(o,se(),...t),{provide:D,useFactory:je,deps:[B,Be]}])}var Mt=(()=>{class o{router=u($);layoutStore=u(le);navigateByUrl(e,n){return this.layoutStore.get()&&this.layoutStore.get()!==""?this.router.navigateByUrl(`/${this.layoutStore.get()}${e}`,n):this.router.navigateByUrl(`${e}`,n)}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),Tt=(()=>{class o{eventBus=m.getInstance();getToken(){return new Promise(e=>{this.eventBus.on(ie,e)})}refreshToken(){return this.eventBus.publishAndWait(ae,[])}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),ue=new O("MICRO_FRONTEND_LIFECYCLE"),Ve=(()=>{class o{elementRef=u(ee);documentRef=u(xe);lifecycle=u(ue,{optional:!0});microFrontendsMetadata;ngOnInit(){return f(this,null,function*(){yield this.loadMicroFrontend()})}ngOnDestroy(){this.removeMicroFrontend()}loadMicroFrontend(){return f(this,null,function*(){try{this.lifecycle?.onLoadStart?.();let{exposedModule:e,remoteName:n,elementName:s,layoutPath:r}=this.microFrontendsMetadata;yield G(n,e),this.lifecycle?.onLoadSuccess?.();let i=this.documentRef.createElement(s);i.setAttribute(re,r||""),this.elementRef.nativeElement.appendChild(i),this.lifecycle?.onDomInserted?.()}catch(e){this.lifecycle?.onLoadError?.(e)}})}removeMicroFrontend(){let e=this.elementRef.nativeElement.querySelector(this.microFrontendsMetadata.elementName);e&&(this.elementRef.nativeElement.removeChild(e),this.lifecycle?.onDomRemoved?.())}static ɵfac=function(n){return new(n||o)};static ɵcmp=l.ɵɵdefineComponent({type:o,selectors:[["fem-micro-frontend-loader"]],inputs:{microFrontendsMetadata:"microFrontendsMetadata"},standalone:!0,features:[l.ɵɵStandaloneFeature],decls:0,vars:0,template:function(n,s){},dependencies:[ke],encapsulation:2})}return o})(),We=(()=>{class o{router=u($);options=u(v);microFrontendsMetadata={};buildRoutes(e){if(!this.checkIfExistsAtLeastOneDefaultRoute(e))throw new Error("Debe existir al menos una ruta por defecto");let n=this.router.config,s=this.getLayoutRouteConfig();e.forEach(r=>{if(r.layoutPath===void 0){let i=[];r.default&&this.pushRedirectedRoute(i,r.path),this.pushRoute(i,r),n.push(...i)}}),s.forEach(r=>{e.forEach(i=>{let a=[];i.default&&this.pushRedirectedRoute(a,i.path),this.pushRoute(a,i),i.layoutPath===r.path&&(r.children||(r.children=[]),r.children.push(...a))})}),this.sendWildCardRouteToLastPosition(n),this.router.resetConfig([...n])}checkIfExistsAtLeastOneDefaultRoute(e){return e.some(n=>!!n.default)}sendWildCardRouteToLastPosition(e){let n="**",i=e.findIndex(a=>a.path===n);if(i!==-1){let a=e.splice(i,1)[0];e.push(a)}}getLayoutRouteConfig(){return this.options.loaderConfig.layoutsPaths.map(e=>this.router.config.filter(n=>n.path===e)[0])}pushRedirectedRoute(e,n){e.push({path:"",redirectTo:n,pathMatch:"full"})}pushRoute(e,n){this.microFrontendsMetadata[`${n.path}`]=n,e.push({matcher:this.startsWith(n.path),component:Ve,canActivate:this.getCanActivate(n),canDeactivate:this.getCanDeactivate(n),data:{microFrontendsMetadata:n}})}getCanActivate(e){return this.options.loaderConfig.providerMap&&e.canActivate?e.canActivate.map(n=>this.options.loaderConfig.providerMap[`${n}`]):e.canActivate}getCanDeactivate(e){return this.options.loaderConfig.providerMap&&e.canDeactivate?e.canDeactivate.map(n=>this.options.loaderConfig.providerMap[`${n}`]):e.canDeactivate}startsWith(e){return n=>n.map(r=>r.path).join("/").startsWith(e)?{consumed:n}:null}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),Ge=(()=>{class o extends L{platformLocation;routerOptions=u(v);constructor(e){super(e),this.platformLocation=e}getMicroFrontendBasePath(e){let n=this.routerOptions.loaderConfig?.layoutsPaths||[],[s,r,i]=e.split("/");return n.includes(r)?i:r}pushState(e,n,s,r){super.pushState(e,n,s,r);let i=this.getMicroFrontendBasePath(s),a=d.getMicroFrontendElementNameByPath(i),c=new CustomEvent(`${y}_${a.toUpperCase()}`);globalThis.dispatchEvent(c)}replaceState(e,n,s,r){super.replaceState(e,n,s,r);let i=this.getMicroFrontendBasePath(s),a=d.getMicroFrontendElementNameByPath(i),c=new CustomEvent(`${y}_${a.toUpperCase()}`);globalThis.dispatchEvent(c)}static ɵfac=function(n){return new(n||o)(l.ɵɵinject(A.PlatformLocation))};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac})}return o})(),He=(()=>{class o extends ne{platformLocation;routerOptions=u(v);constructor(e){super(e,""),this.platformLocation=e}getMicroFrontendBasePath(e){let n=this.routerOptions.loaderConfig?.layoutsPaths||[],[s,r,i]=e.split("/");return n.includes(r)?i:r}pushState(e,n,s,r){super.pushState(e,n,s,r);let i=this.getMicroFrontendBasePath(s),a=d.getMicroFrontendElementNameByPath(i),c=new CustomEvent(`${y}_${a.toUpperCase()}`);globalThis.dispatchEvent(c)}replaceState(e,n,s,r){super.replaceState(e,n,s,r);let i=this.getMicroFrontendBasePath(s),a=d.getMicroFrontendElementNameByPath(i),c=new CustomEvent(`${y}_${a.toUpperCase()}`);globalThis.dispatchEvent(c)}static ɵfac=function(n){return new(n||o)(l.ɵɵinject(A.PlatformLocation))};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac})}return o})(),v=new O("ROUTES_OPTIONS");function Ye(o){return()=>f(this,null,function*(){return new Promise((t,e)=>{try{let n=d.getValue();o.buildRoutes(n.microFrontendsManifest),t()}catch(n){e(`[FEM]: Error inicializando las rutas: ${n instanceof Error?n.message:n}`)}})})}function Je(o,t,e){return()=>{o.save({ngZone:t,useHash:e.useHash})}}function St({routes:o,options:t,lifecycle:e},...n){return te([oe(o,se(),...n),{provide:D,useClass:t.useHash?Ge:He},{provide:v,useValue:t},{provide:q,useFactory:Je,deps:[B,_,v],multi:!0},{provide:q,useFactory:Ye,deps:[We],multi:!0},{provide:ue,useFactory:s=>e?s.get(e):null,deps:[De]}])}var wt=(()=>{class o{eventBus=m.getInstance();saveToken(e){this.eventBus.publish(ie,e)}onRefreshToken(e){this.eventBus.onAndReply(ae,e)}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),N=class o{channelsMapping=this.initializeChannelMapping();LOCAL_STORAGE="localStorage";SESSION_STORAGE="sessionStorage";KEY_LOCAL_STORAGE="bcp-channels";KEY_SESSION_STORAGE="bcp-channels";messagesSessionStorage=[];messagesLocalStorage=[];constructor(){}static getInstance(){return globalThis.EventBusInstance||(globalThis.EventBusInstance=new o),globalThis.EventBusInstance.recoverStorage(),globalThis.EventBusInstance}on(t,e,n=""){return this.create(t,e,n),this.channelsMapping.get(n)[t][e]}getValue(t,e,n=""){return this.channelsMapping.get(n)[t][e].getValue()}publish(t,e,n,s=""){this.create(t,e,s),this.channelsMapping.get(s)[t][e].next({channel:t,topic:e,payload:n}),this.saveStorage(t,e,n,s)}getChannels(t=""){return this.channelsMapping.get(t)}create(t,e,n){if(this.isEmptyChannelOrTopic(t,e))throw new Error("The channel or topic can not be empty.");let s={};if(s[e]=new Pe(null),this.notExistsChannel(t,n)){let r={[t]:s},i=h(h({},this.channelsMapping.get(n)),r);this.channelsMapping.set(n,i)}if(this.notExistsTopic(t,e,n)){let r=p(h({},this.channelsMapping.get(n)),{[t]:h(h({},this.channelsMapping.get(n)[t]),s)});this.channelsMapping.set(n,r)}}initializeChannelMapping(){return new Map([["sessionStorage",{}],["localStorage",{}],["",{}]])}removeChannel(t,e=""){let n=this.channelsMapping.get(e);n&&n[t]&&(Object.keys(n[t]).forEach(r=>{n[t][r].complete()}),delete n[t],this.removeStorageDataType(e,t))}removeTopicByChannel(t,e,n=""){let s=this.channelsMapping.get(n);s&&s[t]&&(s[t][e]&&(s[t][e].complete(),delete s[t][e]),Object.keys(s[t]).length===0&&delete s[t],this.removeStorageDataType(n,t,e))}clearAll(){this.channelsMapping.forEach(t=>{Object.keys(t).forEach(e=>{Object.keys(t[e]).forEach(n=>{t[e][n].complete()})})}),this.messagesSessionStorage=[],this.messagesLocalStorage=[],this.clearStorage(),this.channelsMapping.clear(),this.channelsMapping=this.initializeChannelMapping()}removeStorageDataType(t,e,n){let s=t===this.LOCAL_STORAGE?this.messagesLocalStorage:this.messagesSessionStorage;this.removeStorageData(s,e,n)}removeStorageData(t,e,n){let s=[];e&&n?s=t.filter(r=>!(r.channel===e&&r.topic===n)):e&&(s=t.filter(r=>r.channel!==e)),this.updateStorageData(s,t)}updateStorageData(t,e){let n=JSON.stringify(t);e===this.messagesLocalStorage&&(globalThis.localStorage.setItem(this.KEY_LOCAL_STORAGE,n),this.messagesLocalStorage=t),e===this.messagesSessionStorage&&(globalThis.sessionStorage.setItem(this.KEY_SESSION_STORAGE,n),this.messagesSessionStorage=t)}isEmptyChannelOrTopic(t,e){return!t||!e}notExistsChannel(t,e){return!this.channelsMapping.get(e)[t]}notExistsTopic(t,e,n){return!this.channelsMapping.get(n)[t][e]}saveStorage(t,e,n,s){s===this.LOCAL_STORAGE&&(this.messagesLocalStorage.push({channel:t,topic:e,payload:n}),globalThis.localStorage.setItem(this.KEY_LOCAL_STORAGE,JSON.stringify(this.messagesLocalStorage))),s===this.SESSION_STORAGE&&(this.messagesSessionStorage.push({channel:t,topic:e,payload:n}),globalThis.sessionStorage.setItem(this.KEY_SESSION_STORAGE,JSON.stringify(this.messagesSessionStorage)))}clearStorage(){globalThis.localStorage.removeItem(this.KEY_LOCAL_STORAGE),globalThis.sessionStorage.removeItem(this.KEY_LOCAL_STORAGE)}recoverStorage(){this.messagesLocalStorage=JSON.parse(globalThis.localStorage.getItem(this.KEY_LOCAL_STORAGE)||"[]"),this.messagesSessionStorage=JSON.parse(globalThis.sessionStorage.getItem(this.KEY_SESSION_STORAGE)||"[]"),this.messagesLocalStorage.length>0&&this.messagesLocalStorage.forEach(t=>{this.publish(t.channel,t.topic,t.payload,this.LOCAL_STORAGE)}),this.messagesSessionStorage.length>0&&this.messagesSessionStorage.forEach(t=>{this.publish(t.channel,t.topic,t.payload,this.SESSION_STORAGE)})}},It=(()=>{class o{eventBusCore=N.getInstance();on(e,n,s=""){return this.eventBusCore.on(e,n,s)}getValue(e,n,s=""){return this.eventBusCore.getValue(e,n,s)}publish(e,n,s,r=""){this.eventBusCore.publish(e,n,s,r)}getChannels(e=""){return this.eventBusCore.getChannels(e)}removeChannel(e,n=""){this.eventBusCore.removeChannel(e,n)}removeTopicByChannel(e,n,s=""){this.eventBusCore.removeTopicByChannel(e,n,s)}clearAll(){this.eventBusCore.clearAll()}static ɵfac=function(n){return new(n||o)};static ɵprov=l.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})}return o})(),he="__eventBusConfig__";function Rt(o){return function(t){t[he]=o}}function T(o){return o.constructor[he]}var Z=class{eventBus=m.getInstance();on(t){let e=T(this);this.eventBus.on(e,t)}},z=class{eventBus=m.getInstance();publish(t){let e=T(this);this.eventBus.publish(e,t)}},X=class{eventBus=m.getInstance();publishAndWait(t){let e=T(this);return this.eventBus.publishAndWait(e,t)}},Q=class{eventBus=m.getInstance();onAndReply(t){let e=T(this);this.eventBus.onAndReply(e,t)}};export{ae as AUTH_REFRESH_TOKEN_EVENT_BUS_TARGET,ie as AUTH_TOKEN_EVENT_BUS_TARGET,X as BcpAwaitableEventPublisher,Q as BcpAwaitableEventlistener,It as BcpEventBus,Rt as BcpEventBusConfig,Z as BcpEventListener,z as BcpEventPublisher,yt as BcpMicroFrontendComponent,Mt as BcpRouterMicroFrontend,wt as BcpTokenEmmiter,Tt as BcpTokenReceiver,m as EventBusCore,y as MICRO_FRONTEND_URL_EVENT,B as ShellConfigStore,Et as bcpCreateMicroFrontend,vt as provideBcpMicroFrontendRouter,St as provideBcpShellRouter};